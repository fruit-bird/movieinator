# Movienator

A CLI to store simple information about movies

Uses sqlite as means of storage

## Usage
```
Usage: movienator <COMMAND>

Commands:
  add     Add a movie entry
  list    Print movie info
  remove  Remove a movie
  help    Print this message or the help of the given subcommand(s)

Options:
  -h, --help     Print help
  -V, --version  Print version
```

## Setup
The only prerequisite is having a `MOVIE_DATABASE_URL` environment variable. The [`setup.sh`](setup.sh) script will do that, though it may need some altering

Replace `~/.zshrc` with `~/.bash_profile` everywhere in the file if you don't have `zsh`

Execute with
```bash
$ zsh setup.sh # or bash
$ echo $MOVIE_DATABASE_URL
  sqlite:////Users/<username>/Documents/movies.db
```

## Example
```bash
$ movienator add "Cloud Atlas" -d 1970-01-01 -r 5
  "Cloud Atlas" has been added!

$ movienator add "Interstellar" -r 5
  "Interstellar" has been added!
  
$ movienator list
  You have 2 movies stored
  * | Cloud Atlas                             |  1970-01-01  |   5/5   | (no thoughts)
  * | Interstellar                            |   ________   |   5/5   | (no thoughts)
```

## Cool Things
### Terminal Tab Completion
You can find in `/completions` an autogenerated `.zsh` file made by `clap_complete`  in a few lines

```rust
// code to generate the autocomplete
let mut cmd = MovieCLI::command();

clap_complete::generate_to(
    clap_complete::Shell::Zsh,
    &mut cmd,
    "movienator",
    "completions",
)?;
```

### Customized Display
I'm especially proud of the `movienator list` command; its display formatting, pagination, and broad search capability

## What is This?
Just trying to pick up [`sqlx`](https://crates.io/crates/sqlx)

And for how simple this is, it could be generalized to store more than movies
